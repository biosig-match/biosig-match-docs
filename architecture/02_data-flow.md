# Data Flow Diagram
(This file is auto-generated by a script. Do not edit manually.)

```mermaid
graph LR

    subgraph "External Actors"
        User["fa:fa-user User"]
        Firmware_BLE["fa:fa-microchip Firmware (BLE)"]
    end

    subgraph "Mobile Client"
        SmartphoneApp["fa:fa-mobile-alt Smartphone App"]
    end

    subgraph "API & Data Ingestion"
        direction TB
        CollectorService["fa:fa-server Collector Service"]
        RawDataExchange["fa:fa-exchange RabbitMQ Exchange<br>(raw_data_exchange)"]
        ProcessingQueue["fa:fa-inbox Processing Queue"]
    end

    subgraph "Backend Processing"
        direction TB
        ProcessorService["fa:fa-cogs Processor Service"]
        RealtimeAnalyzerService["fa:fa-chart-line Realtime Analyzer"]
    end

    subgraph "Storage Layer"
        direction TB
        MinIO["fa:fa-database MinIO<br>(Object Storage)"]
    end

    subgraph "Management & Export"
        direction TB
        SessionManagerService["fa:fa-tasks Session Manager"]
        BIDSExporterService["fa:fa-file-archive BIDS Exporter"]
    end

    %% --- Connections ---
    CollectorService --> RawDataExchange
    Firmware_BLE --> SmartphoneApp
    MinIO --> BIDSExporterService
    ProcessingQueue --> ProcessorService
    ProcessorService --> MinIO
    SmartphoneApp --> CollectorService
    SmartphoneApp --> MinIO
    SmartphoneApp --> ProcessorService
    SmartphoneApp --> RealtimeAnalyzerService
    SmartphoneApp --> SessionManagerService
    User --> SmartphoneApp

    %% --- Styling ---
    style "External Actors" fill:#e3f2fd,stroke:#333
    style "Mobile Client" fill:#e8f5e9,stroke:#333
    classDef storage fill:#f8d7da,stroke:#721c24
    class MinIO,PostgreSQL storage
    classDef queue fill:#fff3cd,stroke:#856404
    class RawDataExchange,ProcessingQueue,AnalysisQueue queue
```
